{% extends "base_generic.html" %}
{% load static %}

{% block content %}
    <div class="content">
        <style>
            /* entire container, keeps perspective */
            .flip-container {
              -webkit-perspective: 1000;
            }

            /* flip the pane when clicked */
            .flip-container:hover .flipper, .flip-container.hover .flipper {
              //-webkit-transform: rotateY(180deg);
            }

            .flip-container, .front, .back {
                width: 13rem;
                height: 20rem;
            }

            /* flip speed goes here */
            .flipper {
                -webkit-transition: 0.6s;
                -webkit-transform-style: preserve-3d;
            }

            /* hide back of pane during swap */
            .front, .back {
                -webkit-backface-visibility: hidden;
                position: absolute;
            }

            /* back, initially hidden pane */
            .back {
              -webkit-transform: rotateY(180deg);
            }

            .flip-container.flip .flipper {
                transform: rotateY(180deg);
            }
        </style>
        <div class="row">
            {% for card in cards %}
                <div class="col-sm-3">
                    <div class="flip-container">
                        <div class="flipper">
                            <img id="{{card.pk}}Front" src='{{ card.card_image.url }}'
                             alt=card.card_name class="back">
                            <img id="{{card.pk}}Back" onclick="turn(this, '{{ card.card_image.url }}')" src='/media/backs/dos-carte-basique.png'
                             alt=card.card_name class="front " style="cursor:pointer;">
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
    </div>
    <script>
        function turn(card, image) {
            var elem_front = card;
            var elem_back = card;
            elem_back.classList.toggle('flip');
            //document.querySelector('#flip-toggle').classList.toggle('hover');
        }
    </script>
{% endblock %}